<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{telaPadrao}">
  
	<div layout:fragment="conteudo">
	
		<div class="card">
			<div class="card-body">
			
				<table id="tabela" class="table table-bordered table-striped">
					<thead>
						<tr>
							<th scope="col" >Planeta</th>
							<th scope="col" >Massa (10<sup>24</sup>kg)</th>
							<th scope="col" >Di창metro (km)</th>
							<th scope="col" >Gravidade (m/s<sup>2</sup>)</th>
<!-- 							<th scope="col" >G<sub>Terra</sub> </th> -->
							<th scope="col" >Densidade (kg/m<sup>3</sup>)</th>
							<th scope="col" >n째 Luas</th>
						</tr>
					</thead>
					<tfoot>
						<tr>
							<th scope="col" >Planeta</th>
							<th scope="col" >Massa (10<sup>24</sup>kg)</th>
							<th scope="col" >Di창metro (km)</th>
							<th scope="col" >Gravidade (m/s<sup>2</sup>)</th>
<!-- 							<th scope="col" >G<sub>Terra</sub> </th> -->
							<th scope="col" >Densidade (kg/m<sup>3</sup>)</th>
							<th scope="col" >n째 Luas</th>
						</tr>
					</tfoot>
				</table>

			</div>
		</div>
	
	<script type="text/javascript" src="/js/dataTable.min.js"></script>
	<script type="text/javascript" src="/js/dataTables.bootstrap4.min.js"></script>
	
	<script th:inline="none">
	
		$(document).ready(carregarTabela());
	
		function carregarTabela() {
		    $('#tabela').DataTable( {
		        processing: true,
		        ajax: {url:"http://localhost:8080/astronomy/br/planetas/listar", dataSrc:""},
		        columns: [
		        	{ data: "nomeBR", "orderData":[ 6 ]},
		        	{ data: "mass" },
		        	{ data: "diameter" },
		        	{ data: "gravity" },
		        	{ data: "density" },
		        	{ 
		                "data": "numberMoons",
		                "render": function(data, type, row, meta){
		                   if(type === 'display'){
		                       data = '<a href="http://localhost:8080/astronomy/br/satelites/' + row.id + '">' + row.numberMoons + '</a>';
		                   }
		                   return data;
		                }
		             },
		        	{ data: "distanceSun", "visible": false, "searchable": false }
		        ],
		        order: [[ 0, "asc" ]],
		        language: {
		        	  url: "/js/json/datatablePtBr.json"
	        	}
		    } );
		} 
		
	</script>
	
	</div>

</html>